# Ultralytics YOLO ğŸš€, AGPL-3.0 license
# Default training settings and hyperparameters for medium-augmentation COCO training

# åŸºç¡€ä»»åŠ¡è®¾ç½®
task: detect  # YOLOä»»åŠ¡ç±»å‹ï¼šdetect(æ£€æµ‹)ã€segment(åˆ†å‰²)ã€classify(åˆ†ç±»)ã€pose(å§¿æ€)
mode: train   # YOLOæ¨¡å¼ï¼štrain(è®­ç»ƒ)ã€val(éªŒè¯)ã€predict(é¢„æµ‹)ã€export(å¯¼å‡º)ã€track(è·Ÿè¸ª)ã€benchmark(åŸºå‡†æµ‹è¯•)

# è®­ç»ƒè®¾ç½® (Train settings) -------------------------------------------------------------------------------------------------------
model:          # æ¨¡å‹æ–‡ä»¶è·¯å¾„ï¼Œå¦‚ yolov8n.pt, yolov8n.yaml
data:           # æ•°æ®é…ç½®æ–‡ä»¶è·¯å¾„ï¼Œå¦‚ coco128.yaml
epochs: 100     # è®­ç»ƒè½®æ•°
patience: 50    # æ—©åœè€å¿ƒå€¼ï¼šè¿ç»­50è½®æ— æ”¹å–„åˆ™åœæ­¢è®­ç»ƒ
batch: 16       # æ‰¹æ¬¡å¤§å°ï¼Œ-1è¡¨ç¤ºè‡ªåŠ¨æ‰¹æ¬¡å¤§å°
imgsz: 640      # è¾“å…¥å›¾åƒå°ºå¯¸
save: True      # æ˜¯å¦ä¿å­˜è®­ç»ƒæ£€æŸ¥ç‚¹å’Œé¢„æµ‹ç»“æœ
save_period: -1 # æ¯xè½®ä¿å­˜ä¸€æ¬¡æ£€æŸ¥ç‚¹ï¼ˆ<1æ—¶ç¦ç”¨ï¼‰
cache: False    # æ•°æ®åŠ è½½ç¼“å­˜ï¼šTrue/ram(å†…å­˜ç¼“å­˜)ã€disk(ç£ç›˜ç¼“å­˜)ã€False(æ— ç¼“å­˜)
device:         # è¿è¡Œè®¾å¤‡ï¼šcuda device=0 æˆ– device=0,1,2,3 æˆ– device=cpu
workers: 8      # æ•°æ®åŠ è½½çš„å·¥ä½œçº¿ç¨‹æ•°
project:        # é¡¹ç›®åç§°
name:           # å®éªŒåç§°ï¼Œç»“æœä¿å­˜åˆ° 'project/name' ç›®å½•
exist_ok: False # æ˜¯å¦è¦†ç›–å·²å­˜åœ¨çš„å®éªŒ
pretrained: True # æ˜¯å¦ä½¿ç”¨é¢„è®­ç»ƒæ¨¡å‹
optimizer: auto  # ä¼˜åŒ–å™¨ï¼šSGD, Adam, Adamax, AdamW, NAdam, RAdam, RMSProp, auto
verbose: True   # æ˜¯å¦æ‰“å°è¯¦ç»†è¾“å‡º
seed: 0         # éšæœºç§å­ï¼Œç”¨äºç»“æœå¤ç°
deterministic: True # æ˜¯å¦å¯ç”¨ç¡®å®šæ€§æ¨¡å¼
single_cls: False   # æ˜¯å¦å°†å¤šç±»æ•°æ®ä½œä¸ºå•ç±»è®­ç»ƒ
rect: False     # æ˜¯å¦ä½¿ç”¨çŸ©å½¢è®­ç»ƒ/éªŒè¯
cos_lr: False   # æ˜¯å¦ä½¿ç”¨ä½™å¼¦å­¦ä¹ ç‡è°ƒåº¦å™¨
close_mosaic: 0 # åœ¨æœ€åå‡ è½®ç¦ç”¨é©¬èµ›å…‹å¢å¼º
resume: False   # æ˜¯å¦ä»æœ€åæ£€æŸ¥ç‚¹æ¢å¤è®­ç»ƒ
amp: True       # è‡ªåŠ¨æ··åˆç²¾åº¦è®­ç»ƒ
fraction: 1.0   # è®­ç»ƒæ•°æ®é›†ä½¿ç”¨æ¯”ä¾‹ï¼ˆ1.0è¡¨ç¤ºä½¿ç”¨å…¨éƒ¨æ•°æ®ï¼‰
profile: False  # æ˜¯å¦åœ¨è®­ç»ƒæœŸé—´åˆ†æONNXå’ŒTensorRTé€Ÿåº¦

# åˆ†å‰²ä¸“ç”¨å‚æ•°
overlap_mask: True  # è®­ç»ƒæ—¶maskæ˜¯å¦å…è®¸é‡å 
mask_ratio: 4       # maskä¸‹é‡‡æ ·æ¯”ä¾‹

# åˆ†ç±»ä¸“ç”¨å‚æ•°
dropout: 0.0  # dropoutæ­£åˆ™åŒ–ç‡

# éªŒè¯/æµ‹è¯•è®¾ç½® (Val/Test settings) ----------------------------------------------------------------------------------------------------
val: True       # è®­ç»ƒæ—¶æ˜¯å¦è¿›è¡ŒéªŒè¯
split: val      # éªŒè¯ä½¿ç”¨çš„æ•°æ®é›†åˆ†å‰²ï¼š'val', 'test', 'train'
save_json: False    # æ˜¯å¦ä¿å­˜ç»“æœä¸ºJSONæ–‡ä»¶
save_hybrid: False  # æ˜¯å¦ä¿å­˜æ··åˆç‰ˆæœ¬æ ‡ç­¾

conf:           # â­ ç›®æ ‡ç½®ä¿¡åº¦é˜ˆå€¼ï¼ˆè¯¦ç»†è§£é‡Šè§ä¸‹æ–¹ï¼‰
# conf æ˜¯ç›®æ ‡ç½®ä¿¡åº¦é˜ˆå€¼ï¼Œç”¨äºè¿‡æ»¤æ£€æµ‹ç»“æœï¼š
#   - æ¨¡å‹å¯¹æ¯ä¸ªæ£€æµ‹æ¡†éƒ½ä¼šè¾“å‡ºä¸€ä¸ªç½®ä¿¡åº¦åˆ†æ•°ï¼ˆ0-1ä¹‹é—´ï¼‰
#   - conf é˜ˆå€¼å†³å®šäº†å“ªäº›æ£€æµ‹ç»“æœè¢«ä¿ç•™
#   - åªæœ‰ç½®ä¿¡åº¦ â‰¥ conf çš„æ£€æµ‹æ¡†æ‰ä¼šè¢«è¾“å‡º
#   - "default 0.25 predict, 0.001 val" çš„å«ä¹‰ï¼šé¢„æµ‹æ—¶åªæ˜¾ç¤ºç½®ä¿¡åº¦ â‰¥ 25% çš„æ£€æµ‹ç»“æœï¼›éªŒè¯æ—¶ä¿ç•™ç½®ä¿¡åº¦ â‰¥ 0.1% çš„æ‰€æœ‰æ£€æµ‹ç»“æœç”¨äºè¯„ä¼°
# ä¸ºä»€ä¹ˆä¸¤ä¸ªæ¨¡å¼ä½¿ç”¨ä¸åŒçš„é»˜è®¤å€¼ï¼š
#   - é¢„æµ‹æ¨¡å¼ä½¿ç”¨0.25çš„åŸå› ï¼š
#      - ç”¨æˆ·é€šå¸¸åªæƒ³çœ‹åˆ°"æ¯”è¾ƒç¡®å®š"çš„æ£€æµ‹ç»“æœ
#      - é¿å…æ˜¾ç¤ºå¤ªå¤šä½è´¨é‡çš„è¯¯æ£€
#   - éªŒè¯æ¨¡å¼ä½¿ç”¨0.001çš„åŸå› ï¼š
#     - éœ€è¦è®¡ç®—å®Œæ•´çš„PRæ›²çº¿å’ŒmAPæŒ‡æ ‡
#     - è¯„ä¼°æŒ‡æ ‡éœ€è¦åœ¨ä¸åŒç½®ä¿¡åº¦ä¸‹çš„å®Œæ•´æ€§èƒ½
#     - 0.001åŸºæœ¬ç­‰äºä¿ç•™æ‰€æœ‰æ£€æµ‹ï¼Œè®©è¯„ä¼°æŒ‡æ ‡è‡ªå·±å†³å®šé˜ˆå€¼

iou: 0.7        # NMSçš„IoUé˜ˆå€¼ï¼ŒNMSçš„ç›®çš„æ˜¯è§£å†³åŒä¸€ä¸ªç›®æ ‡è¢«å¤šæ¬¡æ£€æµ‹çš„é—®é¢˜
# å‡è®¾æ£€æµ‹åˆ°åŒä¸€ä¸ªäººçš„3ä¸ªæ¡†ï¼š
#   - æ¡†A: ç½®ä¿¡åº¦0.9, ä½ç½®[100,100,200,200]
#   - æ¡†B: ç½®ä¿¡åº¦0.8, ä½ç½®[105,105,205,205]  # ä¸Aé«˜åº¦é‡å 
#   - æ¡†C: ç½®ä¿¡åº¦0.7, ä½ç½®[300,300,400,400]  # ä¸A,Bä¸é‡å 

# å½“iou=0.7æ—¶ï¼š
#   - æŒ‰ç½®ä¿¡åº¦æ’åºï¼šA > B > C
#   - ä¿ç•™Aï¼ˆæœ€é«˜ç½®ä¿¡åº¦ï¼‰
#   -è®¡ç®—Aä¸Bçš„IoU â‰ˆ 0.85 > 0.7 â†’ åˆ é™¤B
#   -è®¡ç®—Aä¸Cçš„IoU â‰ˆ 0.0 < 0.7 â†’ ä¿ç•™C
#   - æœ€ç»ˆç»“æœï¼šä¿ç•™Aå’ŒC
# å…ˆç”¨confè¿‡æ»¤ä½ç½®ä¿¡åº¦æ£€æµ‹ï¼Œå†ç”¨iouå¯¹å‰©ä½™æ£€æµ‹è¿›è¡ŒNMSå»é‡

max_det: 300    # æ¯å¼ å›¾åƒæœ€å¤§æ£€æµ‹æ•°é‡
half: False     # æ˜¯å¦ä½¿ç”¨åŠç²¾åº¦(FP16)
dnn: False      # æ˜¯å¦ä½¿ç”¨OpenCV DNNè¿›è¡ŒONNXæ¨ç†
plots: True     # æ˜¯å¦ä¿å­˜è®­ç»ƒ/éªŒè¯å›¾è¡¨ã€‚å½“val: Trueä¸”plots: Trueæ—¶ï¼ŒYOLOv8ä¼šåœ¨éªŒè¯é˜¶æ®µç”Ÿæˆå¯è§†åŒ–å›¾ç‰‡ï¼Œè¿™äº›å›¾ç‰‡é€šå¸¸åŒ…å«Ground Truth

# é¢„æµ‹è®¾ç½® (Prediction settings) --------------------------------------------------------------------------------------------------
source:         # å›¾åƒæˆ–è§†é¢‘çš„æºç›®å½•
show: False     # æ˜¯å¦æ˜¾ç¤ºç»“æœ
save_txt: False # æ˜¯å¦å°†ç»“æœä¿å­˜ä¸º.txtæ–‡ä»¶
save_conf: False    # æ˜¯å¦ä¿å­˜ç½®ä¿¡åº¦åˆ†æ•°
save_crop: False    # æ˜¯å¦ä¿å­˜è£å‰ªçš„å›¾åƒ
show_labels: True   # æ˜¯å¦åœ¨å›¾ä¸­æ˜¾ç¤ºæ ‡ç­¾
show_conf: True     # æ˜¯å¦åœ¨å›¾ä¸­æ˜¾ç¤ºç½®ä¿¡åº¦åˆ†æ•°
vid_stride: 1       # è§†é¢‘å¸§ç‡æ­¥é•¿
line_width:         # è¾¹ç•Œæ¡†çº¿å®½ï¼Œç©ºåˆ™è‡ªåŠ¨
visualize: False    # æ˜¯å¦å¯è§†åŒ–æ¨¡å‹ç‰¹å¾
augment: False      # æ˜¯å¦å¯¹é¢„æµ‹æºåº”ç”¨å›¾åƒå¢å¼º
agnostic_nms: False # æ˜¯å¦ä½¿ç”¨ç±»åˆ«æ— å…³çš„NMS
classes:            # æŒ‰ç±»åˆ«è¿‡æ»¤ç»“æœï¼Œå¦‚ class=0 æˆ– class=[0,2,3]
retina_masks: False # æ˜¯å¦ä½¿ç”¨é«˜åˆ†è¾¨ç‡åˆ†å‰²mask
boxes: True         # åœ¨åˆ†å‰²é¢„æµ‹ä¸­æ˜¯å¦æ˜¾ç¤ºè¾¹ç•Œæ¡†

# å¯¼å‡ºè®¾ç½® (Export settings) ------------------------------------------------------------------------------------------------------
format: torchscript # å¯¼å‡ºæ ¼å¼
keras: False    # æ˜¯å¦ä½¿ç”¨Keras
optimize: False # TorchScriptæ˜¯å¦ä¸ºç§»åŠ¨ç«¯ä¼˜åŒ–
int8: False     # CoreML/TF INT8é‡åŒ–
dynamic: False  # ONNX/TF/TensorRTåŠ¨æ€è½´
simplify: False # ONNXæ¨¡å‹ç®€åŒ–
opset:          # ONNXæ“ä½œé›†ç‰ˆæœ¬
workspace: 4    # TensorRTå·¥ä½œç©ºé—´å¤§å°(GB)
nms: False      # CoreMLæ˜¯å¦æ·»åŠ NMS

# å¤šä»»åŠ¡å­¦ä¹ è¶…å‚æ•° (Hyperparameters) ------------------------------------------------------------------------------------------------------
lr0: 0.01           # åˆå§‹å­¦ä¹ ç‡
lrf: 0.01           # æœ€ç»ˆå­¦ä¹ ç‡ (lr0 * lrf)
momentum: 0.937     # SGDåŠ¨é‡/Adam beta1
weight_decay: 0.0005 # ä¼˜åŒ–å™¨æƒé‡è¡°å‡
warmup_epochs: 3.0  # é¢„çƒ­è½®æ•°
warmup_momentum: 0.8 # é¢„çƒ­åˆå§‹åŠ¨é‡
warmup_bias_lr: 0.1 # é¢„çƒ­åˆå§‹åç½®å­¦ä¹ ç‡

######################### -------------------------------
# åœ¨è¿™é‡Œå®šä¹‰äº†å¤šä»»åŠ¡å­¦ä¹ çš„é»˜è®¤å‚æ•°
box: 7.5    # è¾¹ç•Œæ¡†æŸå¤±æƒé‡
cls: 0.5    # åˆ†ç±»æŸå¤±æƒé‡
dfl: 1.5    # åˆ†å¸ƒç„¦ç‚¹æŸå¤±æƒé‡
pose: 12.0  # å§¿æ€æŸå¤±æƒé‡
kobj: 1.0   # å…³é”®ç‚¹ç›®æ ‡æŸå¤±æƒé‡
######################### -------------------------------


# æ•°æ®å¢å¼ºå‚æ•°
label_smoothing: 0.0  # æ ‡ç­¾å¹³æ»‘
nbs: 64              # æ ‡ç§°æ‰¹æ¬¡å¤§å°
hsv_h: 0.015         # HSVè‰²è°ƒå¢å¼º
hsv_s: 0.7           # HSVé¥±å’Œåº¦å¢å¼º  
hsv_v: 0.4           # HSVæ˜åº¦å¢å¼º
degrees: 0.0         # å›¾åƒæ—‹è½¬è§’åº¦
translate: 0.1       # å›¾åƒå¹³ç§»æ¯”ä¾‹
scale: 0.5           # å›¾åƒç¼©æ”¾å¢ç›Š
shear: 0.0           # å›¾åƒå‰ªåˆ‡è§’åº¦
perspective: 0.0     # å›¾åƒé€è§†å˜æ¢
flipud: 0.0          # ä¸Šä¸‹ç¿»è½¬æ¦‚ç‡
fliplr: 0.5          # å·¦å³ç¿»è½¬æ¦‚ç‡
mosaic: 1.0          # é©¬èµ›å…‹å¢å¼ºæ¦‚ç‡
mixup: 0.0           # æ··åˆå¢å¼ºæ¦‚ç‡
copy_paste: 0.0      # åˆ†å‰²å¤åˆ¶ç²˜è´´æ¦‚ç‡

# Custom config.yaml ---------------------------------------------------------------------------------------------------
cfg:  # (str, optional) for overriding defaults.yaml

# Debug, do not modify -------------------------------------------------------------------------------------------------
v5loader: False  # (bool) use legacy YOLOv5 dataloader (deprecated)

# Tracker settings ------------------------------------------------------------------------------------------------------
tracker: botsort.yaml  # (str) tracker type, choices=[botsort.yaml, bytetrack.yaml]
